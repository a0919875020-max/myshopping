<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>編輯商品</title>
    <style>
        body { font-family: Arial; background: #f5f5f5; }
        .container { max-width: 600px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px #ccc; }
        .form-group { margin-bottom: 15px; }
        input, select, textarea { width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc; }
        button { padding: 8px 16px; background: #2196F3; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
        .delete-button { background: #e53935; margin-top: 10px; }
        .preview-image { width: 120px; height: 120px; object-fit: cover; border-radius: 6px; margin-top: 8px; }
        a { display: inline-block; margin-top: 20px; color: #333; }
    </style>
</head>
<body>
    <!-- 主導覽列 -->
    <nav class="navbar">
    <div class="nav-logo"><a href="{{ url_for('index') }}">牧咣</a></div>
        <div class="nav-links nav-center">
            <a href="{{ url_for('index') }}">首頁</a>
            <a href="{{ url_for('category_page', category='水晶') }}">水晶</a>
            <a href="{{ url_for('category_page', category='銀飾') }}">銀飾</a>
            <a href="{{ url_for('category_page', category='戒指') }}">戒指</a>
            <a href="{{ url_for('category_page', category='耳環') }}">耳環</a>
            <a href="{{ url_for('admin') }}">管理員後台</a>
            <a href="{{ url_for('admin_logout') }}">登出</a>
        </div>
    </nav>
    <style>
        .navbar { width:100%; background:#fff; box-shadow:0 2px 8px #eee; display:flex; align-items:center; justify-content:space-between; padding:0 32px; height:60px; position:sticky; top:0; z-index:100; }
    .nav-logo a { font-size:1.5em; font-weight:bold; color:#bbb; text-decoration:none; letter-spacing:2px; }
        .nav-links a { margin-left:24px; color:#333; text-decoration:none; font-size:1.1em; transition:color 0.2s; }
        .nav-links a:hover { color:#4CAF50; }
        .container { max-width:600px; margin:40px auto; background:#fff; padding:30px; border-radius:8px; box-shadow:0 2px 8px #ccc; }
        .form-group { margin-bottom:15px; }
        input, select, textarea { width:100%; padding:8px; border-radius:4px; border:1px solid #ccc; }
        button { padding:8px 16px; background:#2196F3; color:#fff; border:none; border-radius:4px; cursor:pointer; }
        .delete-button { background:#e53935; margin-top:10px; }
        .preview-image { width:120px; height:120px; object-fit:cover; border-radius:6px; margin-top:8px; }
        a { display:inline-block; margin-top:20px; color:#333; }
        @media (max-width:900px) {
            .container{padding:12px 4px;}
            .preview-image{width:80px; height:80px;}
        }
        @media (max-width:600px) {
            .navbar{padding:0 8px; height:48px;}
            .nav-logo a{font-size:1.1em;}
            .nav-links a{margin-left:8px; font-size:0.95em;}
            .container{padding:6px 2px;}
            .preview-image{width:60px; height:60px;}
        }
    </style>
    <div class="container">
        <h1>編輯商品</h1>
        <form action="{{ url_for('edit_product', product_id=product_id) }}" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="name">商品名稱：</label>
                <input type="text" id="name" name="name" value="{{ product.name }}" required>
            </div>
            <div class="form-group">
                <label for="description">商品描述：</label>
                <textarea id="description" name="description" required>{{ product.description }}</textarea>
            </div>
            <div class="form-group">
                <label for="price">價格：</label>
                <input type="number" id="price" name="price" value="{{ product.price }}" required>
            </div>
            <div class="form-group">
                <label for="category">分類：</label>
                <select id="category" name="category" required>
                    <option value="水晶" {% if product.category == '水晶' %}selected{% endif %}>水晶</option>
                    <option value="銀飾" {% if product.category == '銀飾' %}selected{% endif %}>銀飾</option>
                    <option value="戒指" {% if product.category == '戒指' %}selected{% endif %}>戒指</option>
                    <option value="耳環" {% if product.category == '耳環' %}selected{% endif %}>耳環</option>
                </select>
            </div>
            {% for i in range(3) %}
                <input type="file" name="image{{ i+1 }}">
                {% if product.images and product.images|length > i %}
                    <img src="{{ url_for('static', filename=product.images[i].replace('static/', '')) }}" class="preview-image">
                {% endif %}
            {% endfor %}
            <button type="submit">更新商品</button>
        </form>
        <form action="{{ url_for('delete_product', product_id=product_id) }}" method="GET">
            <button type="submit" class="delete-button">刪除商品</button>
        </form>
        <a href="{{ url_for('admin') }}">回管理頁</a>
    </div>
    <a id="igBtn" href="https://www.instagram.com/moolight_studio?igsh=Y3Yzb3hsN2Rnczk2" target="_blank" title="Instagram">
        <img src="https://cdn-icons-png.flaticon.com/512/87/87390.png" alt="IG" style="width:40px;height:40px;filter: grayscale(100%);">
    </a>
    <style>
        #igBtn {
            position: fixed;
            right: 18px;
            bottom: 80px;
            z-index: 9999;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 8px #aaa;
            padding: 4px;
            opacity: 0.9;
            transition: opacity 0.2s;
        }
        #igBtn:hover { opacity: 1; }
        @media (max-width:600px) {
            #igBtn { right: 10px; bottom: 56px; width:32px; height:32px; }
            #igBtn img { width:32px; height:32px; }
        }
    </style>
    <footer style="width:100%;text-align:center;margin:32px 0 0 0;font-size:1em;color:#888;line-height:1.7;">
    2025 © moolight. ALL RIGHTS RESERVED.<br>
    營業人名稱：牧盈工作室  /  統一編號：95247812
    </footer>
</body>
</html>